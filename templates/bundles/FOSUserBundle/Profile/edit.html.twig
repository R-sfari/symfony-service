{% extends 'layout/base.html.twig' %}

{% block body %}
  {{ form_start(form, { 'action': path('fos_user_change_password'), 'attr': { 'class': 'fos_user_change_password' } }) }}
  <div class="uk-grid" data-uk-grid-margin="data-uk-grid-margin">
    <div class="uk-width-large-7-10">
      <div class="md-card">
        <div class="user_heading">
          <div class="user_heading_avatar fileinput fileinput-new" data-provides="fileinput">
            <div class="fileinput-new thumbnail">
              {# if user.imageName %}
                <img src="{# vich_uploader_asset(user, 'imageFile') }}" alt="{ user.imageName #}"/> { else %} { endif #}
              <img src="{{ asset('user@2x.png') }}" alt="{{ app.user.username}}"/>
            </div>
            <div class="fileinput-preview fileinput-exists thumbnail"></div>
            <div class="user_avatar_controls">
              <span class="btn-file">
                <span class="fileinput-new">
                  <i class="material-icons">&#xE2C6;</i>
                </span>
                <span class="fileinput-exists">
                  <i class="material-icons">&#xE86A;</i>
                </span>
                {# form_widget(form.imageFile , { 'attr' : { 'id' : 'user_edit_avatar_control'}}) #}
              </span>
              <a href="#" class="btn-file fileinput-exists" data-dismiss="fileinput">
                <i class="material-icons">&#xE5CD;</i>
              </a>
            </div>

          </div>
          <div class="user_heading_content">
            <h2 class="heading_b">
              <span class="uk-text-truncate" id="user_edit_uname">
                {{ app.user.username }}
              </span>
              <span class="sub-heading" id="user_edit_position">
                {# user.firstName }} { user.lastName #}
              </span>
            </h2>
          </div>
          <div class="md-fab-wrapper">
            <a class="md-fab md-fab-small md-fab-accent" href="{{ path('fos_user_change_password') }}">
              <i class="material-icons">&#xE8B8;</i>
            </a>
          </div>
        </div>
        <div class="user_content">
          <h3 class="full_width_in_card heading_c">{{ 'user.show.general_info'|trans }}</h3>
          <div class="uk-grid uk-margin-medium-top uk-margin-large-bottom" data-uk-grid-margin="data-uk-grid-margin">
            <div class="uk-width-large-1-2">
              <div class="uk-form-row">
                <label class="uk-form-label">
                  {# form_label(form.firstName) #}
                </label>
                {# form_widget(form.firstName)#}
                <div class="parsley-errors-list filled uk-text-danger">
                  {# form_errors(form.firstName) #}
                </div>
              </div>

              <div class="uk-form-row">
                <label class="uk-form-label">
                  {# form_label(form.birthday) #}
                </label>
                {# form_widget(form.birthday)#}
                <div class="parsley-errors-list filled uk-text-danger">
                  {# form_errors(form.birthday) #}
                </div>
              </div>
            </div>
            <div class="uk-width-large-1-2">
              <div class="uk-form-row">
                <label class="uk-form-label">
                  {# form_label(form.lastName) #}
                </label>
                {# form_widget(form.lastName)#}
                <div class="parsley-errors-list filled uk-text-danger">
                  {# form_errors(form.lastName) #}
                </div>
              </div>
              <div class="uk-form-row">
                {# form_widget(form.gender)#}
                <span class="uk-form-help-block">
                  {# form_label(form.gender) #}
                </span>
                <div class="parsley-errors-list filled uk-text-danger">
                  {# form_errors(form.gender) #}
                </div>

              </div>
            </div>
          </div>

          <h3 class="full_width_in_card heading_c">{{ 'user.show.contact_info'|trans }}</h3>
          <div class="uk-grid uk-margin-medium-top uk-margin-large-bottom" data-uk-grid-margin="data-uk-grid-margin">
            <div class="uk-width-large-1-2">
              <div class="uk-form-row uk-input-group">
                <span class="uk-input-group-addon">
                  <i class="md-list-addon-icon material-icons">&#xE0CD;</i>
                </span>
                <label class="uk-form-label">
                  {# form_label(form.phone) #}
                </label>
                {# form_widget(form.phone)#}
                <div class="parsley-errors-list filled uk-text-danger">
                  {# form_errors(form.phone) #}
                </div>
              </div>
            </div>
            <div class="uk-width-large-1-2">
              <div class="uk-form-row uk-input-group">
                <span class="uk-input-group-addon">
                  <i class="md-list-addon-icon material-icons">&#xE0BE;</i>
                </span>
                <label class="uk-form-label">{{ form_label(form.email) }}</label>
                {{ form_widget(form.email)}}
                <div class="parsley-errors-list filled uk-text-danger">
                  {{ form_errors(form.email) }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="uk-width-large-3-10 uk-margin-medium-bottom">
      <div class="md-card">
        <div class="md-card-content">
          <h3 class="heading_c uk-margin-medium-bottom">{{ "user.setting"|trans}}</h3>
          <div class="uk-form-row uk-input-group">
            <span class="uk-input-group-addon">
              <i class="md-list-addon-icon material-icons">&#xE899;</i>
            </span>
            <label class="uk-form-label">{{ form_label(form.current_password) }}</label>
            {{ form_widget(form.current_password)}}
            <div class="parsley-errors-list filled uk-text-danger">
              {{ form_errors(form.current_password) }}
            </div>
          </div>
        </div>
      </div>
    </div>
    {{ form_widget(form) }}
    {{ form_end(form) }}
  </div>
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  <!-- page specific plugins -->
  <!-- dropify -->
  <!-- form file input functions -->
  <script src="{{ asset('assets/js/custom/user_add.js')}}"></script>
  <!-- file input -->
  <script src="{{ asset('assets/js/custom/uikit_fileinput.min.js')}}"></script>
{% endblock %}
