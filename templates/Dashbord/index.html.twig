{% extends 'layout/base.html.twig' %}

{% block stylesheets %}
  {{ parent() }}
  <!-- google web fonts -->
  <link href="{{ asset('google_fonts.comfortaa')}}" rel="stylesheet">
{% endblock %}

{% block body %}
  <!-- statistics (small charts) -->
  <div class="uk-grid uk-grid-width-large-1-3 uk-grid-width-medium-1-3 uk-grid-medium uk-sortable sortable-handler hierarchical_show" data-uk-sortable="data-uk-sortable" data-uk-grid-margin="data-uk-grid-margin">
    <div>
      <div class="md-card">
        <div class="md-card-content">
          <div class="uk-float-right uk-margin-top uk-margin-small-right">
            <i class="material-icons md-36">&#xE0E0;</i>
          </div>
          <span class="uk-text-muted uk-text-small">{{ 'dashbord.total.business_directory'|trans }}</span>
          <h2 class="uk-margin-remove">
            <span class="countUpMe">{{ countBusinessDirectorys }}</span>
          </h2>
        </div>
      </div>
    </div>
    <div>
      <div class="md-card">
        <div class="md-card-content">
          <div class="uk-float-right uk-margin-top uk-margin-small-right">
            <i class="material-icons md-36">&#xE0D0;</i>
          </div>
          <span class="uk-text-muted uk-text-small">{{ 'dashbord.total.contacts'|trans }}</span>
          <h2 class="uk-margin-remove">
            <span class="countUpMe">{{ countContacts }}</span>
          </h2>
        </div>
      </div>
    </div>
    <div>
      <div class="md-card">
        <div class="md-card-content">
          <div class="uk-float-right uk-margin-top uk-margin-small-right">
            <i class="material-icons md-36">&#xE7EF;</i>
          </div>
          <span class="uk-text-muted uk-text-small">{{ 'dashbord.total.users'|trans }}</span>
          <h2 class="uk-margin-remove">
            <span class="countUpMe">{{ countUsers }}</span>
          </h2>
        </div>
      </div>
    </div>
  </div>
  <div class="uk-grid uk-grid-width-1-1">
    <div>
      <div class="md-card">
        <div class="md-card-toolbar">
          <h3 class="md-card-toolbar-heading-text">
            {{ 'dashbord.statistics.users'|trans }}
          </h3>
        </div>
        <div class="md-card-content">
          {% if users is not empty %}
            <div
              data-echarts-bar="data-echarts-bar"
              data-values='{{ users|json_encode|raw }}'
              data-title='{{ 'dashbord.statistics.users'|trans }}'
              class="echart-large"></div>
          {% else %}
            <div class="echart-large">
              <span class="chart_icon">
                <i class="material-icons">&#xE88B;</i>
                <h1 class="uk-text-large">{{ 'dashbord.statistics.not_found'|trans }}</h1>
              </span>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
  <div class="uk-grid uk-grid-width-1-1">
    <div>
      <div class="md-card">
        <div class="md-card-toolbar">
          <h3 class="md-card-toolbar-heading-text">
            {{ 'dashbord.statistics.business_directory'|trans }}
          </h3>
        </div>
        <div class="md-card-content">
          {% if businessDirectorys is not empty %}
          <div
            data-echarts-bar="data-echarts-bar"
            data-values='{{ businessDirectorys|json_encode|raw }}'
            data-title='{{ 'dashbord.statistics.business_directory'|trans }}'
            class="echart-large"></div>
          {% else %}
            <div class="echart-large">
              <span class="chart_icon">
                <i class="material-icons">&#xE88B;</i>
                <h1 class="uk-text-large">{{ 'dashbord.statistics.not_found'|trans }}</h1>
              </span>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  <!-- datatables custom integration -->
  <script src=" {{ asset('echarts.min.js')}} "></script>
  <script src=" {{ asset('echarts_functions.js')}} "></script>
{% endblock %}
